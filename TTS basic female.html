<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTS 基础维度评测结果看板-female</title>
    <script src="https://cdn.tailwindcss.com/3.3.3"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .glassmorphism {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }
        .chart-container {
            height: 400px;
            width: 100%;
            position: relative;
        }
        .tab-active {
            background-color: #6366f1;
            color: white;
        }
        .tab-hover:hover {
            background-color: #e0e7ff;
        }
        .positive-value {
            color: #4CAF50;
        }
        .negative-value {
            color: #F44336;
        }
        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- 导航栏 -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="text-xl font-bold text-indigo-600">
                    <i class="fas fa-chart-bar mr-2"></i>TTS 基础维度评测结果看板-female
                </div>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 py-8">
        <!-- 维度选择导航 -->
        <div class="glassmorphism p-4 mb-8">
            <div class="flex flex-wrap gap-2">
                <button onclick="switchTab('stability')" class="tab-btn px-4 py-2 rounded-lg transition-all tab-active">
                    稳定性通过率
                </button>
                <button onclick="switchTab('quality')" class="tab-btn px-4 py-2 rounded-lg transition-all">
                    音质
                </button>
                <button onclick="switchTab('rhythm')" class="tab-btn px-4 py-2 rounded-lg transition-all">
                    韵律
                </button>
                <button onclick="switchTab('paralanguage')" class="tab-btn px-4 py-2 rounded-lg transition-all">
                    副语言
                </button>
                <button onclick="switchTab('humanlikeness')" class="tab-btn px-4 py-2 rounded-lg transition-all">
                    拟人度
                </button>
            </div>
        </div>

        <!-- 图表区域 -->
        <div class="glassmorphism p-6 mb-8 transition-all" id="chartSection">
            <h2 class="text-2xl font-semibold mb-4" id="chartTitle">稳定性通过率对比</h2>
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
            <div class="mt-4 flex justify-end">
                <button onclick="downloadChart()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all">
                    <i class="fas fa-download mr-2"></i>下载图表
                </button>
            </div>
        </div>

        <!-- 数据表格 -->
        <div class="glassmorphism p-6 transition-all" id="tableSection">
            <h2 class="text-2xl font-semibold mb-4">详细数据对比</h2>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">模型</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">原始值</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">与mini差值</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="dataTableBody">
                        <!-- 数据将通过JS动态填充 -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center text-gray-500 text-sm">
            <p>created by <a href="https://space.coze.cn" class="text-indigo-600 hover:underline">coze space</a></p>
            <p class="mt-1">页面内容均由 AI 生成，仅供参考</p>
        </div>
    </footer>

    <script>
        // 数据定义
        const modelData = {
            stability: {
                title: "稳定性通过率对比",
                mini: 0.94,
                models: [
                    { name: "vivid", value: 0.8 },
                    { name: "火山", value: 0.92 },
                    { name: "MInimax-speech-02-hd", value: 0.945 },
                    { name: "MInimax-speech-02-turbo", value: 0.95 }
                ]
            },
            quality: {
                title: "音质对比",
                mini: 4.74,
                models: [
                    { name: "vivid", value: 4.38 },
                    { name: "火山", value: 4.84 },
                    { name: "MInimax-speech-02-hd", value: 4.91 },
                    { name: "MInimax-speech-02-turbo", value: 4.95 }
                ]
            },
            rhythm: {
                title: "韵律对比",
                mini: 2.79,
                models: [
                    { name: "vivid", value: 2.84 },
                    { name: "火山", value: 3.47 },
                    { name: "MInimax-speech-02-hd", value: 3.86 },
                    { name: "MInimax-speech-02-turbo", value: 3.77 }
                ]
            },
            paralanguage: {
                title: "副语言对比",
                mini: 2.8667,
                models: [
                    { name: "vivid", value: 2.4667 },
                    { name: "火山", value: 2.9333 },
                    { name: "MInimax-speech-02-hd", value: 2.8667 },
                    { name: "MInimax-speech-02-turbo", value: 3.1333 }
                ]
            },
            humanlikeness: {
                title: "拟人度对比",
                mini: 2.33,
                models: [
                    { name: "vivid", value: 2.78 },
                    { name: "火山", value: 3.45 },
                    { name: "MInimax-speech-02-hd", value: 3.75 },
                    { name: "MInimax-speech-02-turbo", value: 3.69 }
                ]
            }
        };

        let currentChart = null;

        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            renderChart('stability');
            renderTable('stability');
        });

        // 切换标签页
        function switchTab(tabName) {
            // 更新标签样式
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('tab-active', 'bg-indigo-100', 'text-indigo-800');
                if (btn.textContent.trim() === modelData[tabName].title.split('对比')[0]) {
                    btn.classList.add('tab-active');
                }
            });

            // 渲染图表和数据
            renderChart(tabName);
            renderTable(tabName);
        }

        // 渲染图表
        function renderChart(dimension) {
            const data = modelData[dimension];
            const ctx = document.getElementById('performanceChart').getContext('2d');
            
            // 计算差值并排序
            const sortedModels = data.models.map(model => {
                return {
                    name: model.name,
                    value: model.value,
                    difference: parseFloat((model.value - data.mini).toFixed(4))
                };
            }).sort((a, b) => a.difference - b.difference);

            // 更新标题
            document.getElementById('chartTitle').textContent = data.title;

            // 销毁旧图表
            if (currentChart) {
                currentChart.destroy();
            }

            // 创建新图表
            currentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sortedModels.map(model => model.name),
                    datasets: [{
                        label: '与mini模型的差值',
                        data: sortedModels.map(model => model.difference),
                        backgroundColor: sortedModels.map(model => 
                            model.difference >= 0 ? '#4CAF50' : '#F44336'
                        ),
                        borderColor: sortedModels.map(model => 
                            model.difference >= 0 ? '#388E3C' : '#D32F2F'
                        ),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `差值: ${context.raw}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        // 渲染表格
        function renderTable(dimension) {
            const data = modelData[dimension];
            const tableBody = document.getElementById('dataTableBody');
            tableBody.innerHTML = '';

            // 计算差值并排序
            const sortedModels = data.models.map(model => {
                return {
                    name: model.name,
                    value: model.value,
                    difference: parseFloat((model.value - data.mini).toFixed(4))
                };
            }).sort((a, b) => a.difference - b.difference);

            // 添加mini模型行
            const miniRow = document.createElement('tr');
            miniRow.innerHTML = `
                <td class="px-6 py-4 whitespace-nowrap font-medium">mini</td>
                <td class="px-6 py-4 whitespace-nowrap">${data.mini}</td>
                <td class="px-6 py-4 whitespace-nowrap">-</td>
            `;
            tableBody.appendChild(miniRow);

            // 添加其他模型行
            sortedModels.forEach(model => {
                const row = document.createElement('tr');
                const diffClass = model.difference >= 0 ? 'positive-value' : 'negative-value';
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap font-medium">${model.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap">${model.value}</td>
                    <td class="px-6 py-4 whitespace-nowrap ${diffClass}">${model.difference > 0 ? '+' : ''}${model.difference}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // 下载图表
        function downloadChart() {
            const link = document.createElement('a');
            link.download = document.getElementById('chartTitle').textContent + '.png';
            link.href = document.getElementById('performanceChart').toDataURL('image/png');
            link.click();
        }
    </script>
</body>
</html>
